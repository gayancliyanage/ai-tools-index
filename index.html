<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Creative Tools Index | 1000 AI Tools Database</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 40px rgba(0,0,0,0.15); }
        .social-icon { transition: all 0.2s; }
        .social-icon:hover { transform: scale(1.2); }
        .page-btn { transition: all 0.2s; }
        .page-btn:hover:not(:disabled) { transform: scale(1.05); }
        .page-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .page-btn.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .chip { transition: all 0.2s; cursor: pointer; user-select: none; }
        .chip:hover { transform: scale(1.05); }
        .chip.active { ring: 2px; box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.5); }
        .feature-badge { font-size: 10px; padding: 2px 6px; }
        .view-btn { transition: all 0.2s; }
        .view-btn.active { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .compare-table th { position: sticky; top: 0; background: white; z-index: 10; }
        .compare-table tr:hover { background-color: #f3f4f6; }
        .check-yes { color: #10b981; }
        .check-no { color: #ef4444; }
        .highlight-row { background-color: #fef3c7 !important; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white py-8 px-4">
        <div class="max-w-7xl mx-auto">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div>
                    <h1 class="text-3xl md:text-4xl font-bold">üé® AI Creative Tools Index</h1>
                    <p class="text-purple-100 mt-2">Tracking <span id="totalTools">1000</span> AI creative tools</p>
                </div>
                <div class="text-right">
                    <div class="text-sm text-purple-200">Last Updated</div>
                    <div id="lastUpdated" class="font-semibold">Loading...</div>
                </div>
            </div>
            
            <!-- Stats -->
            <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mt-6">
                <div class="bg-white/10 rounded-lg p-4">
                    <div class="text-2xl font-bold" id="statTools">1000</div>
                    <div class="text-purple-200 text-sm">Tools Tracked</div>
                </div>
                <div class="bg-white/10 rounded-lg p-4">
                    <div class="text-2xl font-bold" id="statImageGen">0</div>
                    <div class="text-purple-200 text-sm">üñºÔ∏è Image Gen</div>
                </div>
                <div class="bg-white/10 rounded-lg p-4">
                    <div class="text-2xl font-bold" id="statVideoGen">0</div>
                    <div class="text-purple-200 text-sm">üé¨ Video Gen</div>
                </div>
                <div class="bg-white/10 rounded-lg p-4">
                    <div class="text-2xl font-bold" id="statCanvas">0</div>
                    <div class="text-purple-200 text-sm">üé® Canvas</div>
                </div>
                <div class="bg-white/10 rounded-lg p-4">
                    <div class="text-2xl font-bold" id="statTimeline">0</div>
                    <div class="text-purple-200 text-sm">üéûÔ∏è Timeline</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Filters -->
    <div class="max-w-7xl mx-auto px-4 py-6">
        <!-- View Toggle -->
        <div class="flex justify-end mb-4 gap-2">
            <button onclick="setView('grid')" id="viewGrid" class="view-btn active px-4 py-2 rounded-lg border border-gray-200 bg-white font-medium">
                <i class="fas fa-th-large mr-2"></i>Grid View
            </button>
            <button onclick="setView('table')" id="viewTable" class="view-btn px-4 py-2 rounded-lg border border-gray-200 bg-white font-medium">
                <i class="fas fa-table mr-2"></i>Compare Table
            </button>
        </div>

        <!-- Feature Chips -->
        <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
            <div class="text-sm text-gray-500 mb-3 font-medium">Filter by Capabilities:</div>
            <div class="flex flex-wrap gap-2" id="featureChips">
                <button onclick="toggleFeature('imageGen')" id="chip-imageGen" 
                    class="chip px-4 py-2 rounded-full border-2 border-pink-300 bg-pink-50 text-pink-700 font-medium">
                    üñºÔ∏è Image Gen <span class="text-pink-400" id="count-imageGen">(0)</span>
                </button>
                <button onclick="toggleFeature('videoGen')" id="chip-videoGen"
                    class="chip px-4 py-2 rounded-full border-2 border-blue-300 bg-blue-50 text-blue-700 font-medium">
                    üé¨ Video Gen <span class="text-blue-400" id="count-videoGen">(0)</span>
                </button>
                <button onclick="toggleFeature('imageEditor')" id="chip-imageEditor"
                    class="chip px-4 py-2 rounded-full border-2 border-purple-300 bg-purple-50 text-purple-700 font-medium">
                    ‚úèÔ∏è Image Editor <span class="text-purple-400" id="count-imageEditor">(0)</span>
                </button>
                <button onclick="toggleFeature('imageCanvas')" id="chip-imageCanvas"
                    class="chip px-4 py-2 rounded-full border-2 border-green-300 bg-green-50 text-green-700 font-medium">
                    üé® Image Canvas <span class="text-green-400" id="count-imageCanvas">(0)</span>
                </button>
                <button onclick="toggleFeature('videoTimeline')" id="chip-videoTimeline"
                    class="chip px-4 py-2 rounded-full border-2 border-orange-300 bg-orange-50 text-orange-700 font-medium">
                    üéûÔ∏è Video Timeline <span class="text-orange-400" id="count-videoTimeline">(0)</span>
                </button>
                <button onclick="clearFeatures()" 
                    class="chip px-4 py-2 rounded-full border-2 border-gray-300 bg-gray-50 text-gray-600 font-medium">
                    ‚úï Clear All
                </button>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm p-4 mb-6">
            <div class="flex flex-wrap gap-4 items-center">
                <!-- Search -->
                <div class="flex-1 min-w-[200px]">
                    <div class="relative">
                        <input type="text" id="searchInput" placeholder="Search tools..." 
                            class="w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                </div>
                
                <!-- Category Filter -->
                <select id="categoryFilter" class="px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500">
                    <option value="">All Categories</option>
                </select>
                
                <!-- Founded Year Filter -->
                <select id="foundedFilter" class="px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500">
                    <option value="">All Years</option>
                    <option value="2025">2025 (Newest)</option>
                    <option value="2024">2024</option>
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                    <option value="older">2020 & Earlier</option>
                </select>
                
                <!-- Sort -->
                <select id="sortBy" class="px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500">
                    <option value="ranking">Rank (Default)</option>
                    <option value="traffic">Monthly Traffic</option>
                    <option value="users">Est. Users</option>
                    <option value="name">Name (A-Z)</option>
                    <option value="founded">Founded (Newest)</option>
                </select>

                <!-- Per Page -->
                <select id="perPage" class="px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500">
                    <option value="24">24 per page</option>
                    <option value="50" selected>50 per page</option>
                    <option value="100">100 per page</option>
                    <option value="all">All (table only)</option>
                </select>
            </div>
        </div>

        <!-- Results Info & Pagination Top -->
        <div class="flex flex-wrap justify-between items-center mb-4 gap-4">
            <div id="resultsInfo" class="text-gray-600">
                Showing 1-50 of 1000 tools
            </div>
            <div id="paginationTop" class="flex items-center gap-2">
                <!-- Pagination will be inserted here -->
            </div>
        </div>

        <!-- Grid View -->
        <div id="gridView">
            <div id="toolsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Tools will be loaded here -->
            </div>
        </div>

        <!-- Table View -->
        <div id="tableView" class="hidden">
            <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                <div class="overflow-x-auto max-h-[70vh] overflow-y-auto">
                    <table class="compare-table w-full text-sm">
                        <thead class="bg-gray-50 border-b">
                            <tr>
                                <th class="px-4 py-3 text-left font-semibold text-gray-700">#</th>
                                <th class="px-4 py-3 text-left font-semibold text-gray-700">Tool</th>
                                <th class="px-4 py-3 text-left font-semibold text-gray-700">Category</th>
                                <th class="px-4 py-3 text-center font-semibold text-gray-700">üñºÔ∏è<br>Image Gen</th>
                                <th class="px-4 py-3 text-center font-semibold text-gray-700">üé¨<br>Video Gen</th>
                                <th class="px-4 py-3 text-center font-semibold text-gray-700">‚úèÔ∏è<br>Editor</th>
                                <th class="px-4 py-3 text-center font-semibold text-gray-700">üé®<br>Canvas</th>
                                <th class="px-4 py-3 text-center font-semibold text-gray-700">üéûÔ∏è<br>Timeline</th>
                                <th class="px-4 py-3 text-right font-semibold text-gray-700">Traffic</th>
                                <th class="px-4 py-3 text-right font-semibold text-gray-700">Users</th>
                                <th class="px-4 py-3 text-left font-semibold text-gray-700">Founded</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- Table rows will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- Loading State -->
        <div id="loadingState" class="text-center py-12">
            <div class="animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent mx-auto"></div>
            <p class="mt-4 text-gray-500">Loading AI tools data...</p>
        </div>

        <!-- Pagination Bottom -->
        <div class="flex flex-wrap justify-center items-center mt-8 gap-2" id="paginationBottom">
            <!-- Pagination will be inserted here -->
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 py-8 px-4 mt-12">
        <div class="max-w-7xl mx-auto text-center">
            <p>Built for <strong>Craftit</strong> competitive research by River Valley Incubator</p>
            <p class="text-sm mt-2 text-gray-500">Data collected from public sources. Updated regularly.</p>
        </div>
    </footer>

    <script>
        let toolsData = [];
        let filteredData = [];
        let currentPage = 1;
        let perPage = 50;
        let activeFeatures = new Set();
        let currentView = 'grid';
        
        // Format numbers
        function formatNumber(num) {
            if (!num || num === 0) return '0';
            if (num >= 1000000000) return (num / 1000000000).toFixed(1) + 'B';
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toString();
        }
        
        // Category colors
        function getCategoryColor(category) {
            const colors = {
                'Image Generation': 'bg-pink-100 text-pink-700',
                'Video Generation': 'bg-blue-100 text-blue-700',
                'Design': 'bg-purple-100 text-purple-700',
                'Audio/Music': 'bg-green-100 text-green-700',
                '3D/Animation': 'bg-orange-100 text-orange-700',
                'Writing/Content': 'bg-yellow-100 text-yellow-700',
                'Multi-Modal': 'bg-indigo-100 text-indigo-700'
            };
            return colors[category] || 'bg-gray-100 text-gray-700';
        }

        // Set view mode
        function setView(view) {
            currentView = view;
            document.getElementById('viewGrid').classList.toggle('active', view === 'grid');
            document.getElementById('viewTable').classList.toggle('active', view === 'table');
            document.getElementById('gridView').classList.toggle('hidden', view !== 'grid');
            document.getElementById('tableView').classList.toggle('hidden', view !== 'table');
            renderCurrentPage();
        }

        // Toggle feature filter
        function toggleFeature(feature) {
            const chip = document.getElementById(`chip-${feature}`);
            if (activeFeatures.has(feature)) {
                activeFeatures.delete(feature);
                chip.classList.remove('active', 'ring-2');
                chip.style.boxShadow = '';
            } else {
                activeFeatures.add(feature);
                chip.classList.add('active');
                chip.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.4)';
            }
            filterAndSortTools();
        }

        // Clear all feature filters
        function clearFeatures() {
            activeFeatures.clear();
            document.querySelectorAll('.chip').forEach(chip => {
                chip.classList.remove('active');
                chip.style.boxShadow = '';
            });
            filterAndSortTools();
        }

        // Render checkbox
        function renderCheck(value) {
            if (value) {
                return '<span class="check-yes text-lg">‚úì</span>';
            }
            return '<span class="check-no text-lg">‚úó</span>';
        }

        // Render table row
        function renderTableRow(tool) {
            const isCraftit = tool.name.toLowerCase().includes('craftit');
            return `
                <tr class="${isCraftit ? 'highlight-row font-semibold' : ''} border-b hover:bg-gray-50">
                    <td class="px-4 py-3 text-gray-500">${tool.ranking || tool.id}</td>
                    <td class="px-4 py-3">
                        <a href="${tool.url}" target="_blank" class="text-purple-600 hover:underline font-medium">
                            ${tool.name} ${isCraftit ? '‚≠ê' : ''}
                        </a>
                    </td>
                    <td class="px-4 py-3">
                        <span class="px-2 py-1 rounded-full text-xs ${getCategoryColor(tool.category)}">${tool.category || 'N/A'}</span>
                    </td>
                    <td class="px-4 py-3 text-center">${renderCheck(tool.imageGen)}</td>
                    <td class="px-4 py-3 text-center">${renderCheck(tool.videoGen)}</td>
                    <td class="px-4 py-3 text-center">${renderCheck(tool.imageEditor)}</td>
                    <td class="px-4 py-3 text-center">${renderCheck(tool.imageCanvas)}</td>
                    <td class="px-4 py-3 text-center">${renderCheck(tool.videoTimeline)}</td>
                    <td class="px-4 py-3 text-right text-gray-600">${formatNumber(tool.estimatedMonthlyVisits)}</td>
                    <td class="px-4 py-3 text-right text-gray-600">${formatNumber(tool.estimatedUsers)}</td>
                    <td class="px-4 py-3 text-gray-500">${tool.founded || 'N/A'}</td>
                </tr>
            `;
        }
        
        // Render tool card
        function renderToolCard(tool) {
            const social = tool.social || {};
            const socialLinks = [];
            
            if (social.instagram) socialLinks.push(`<div class="social-icon text-pink-500" title="Instagram"><i class="fab fa-instagram"></i> <span class="text-xs text-gray-600">${formatNumber(social.instagram)}</span></div>`);
            if (social.twitter) socialLinks.push(`<div class="social-icon text-blue-400" title="Twitter/X"><i class="fab fa-twitter"></i> <span class="text-xs text-gray-600">${formatNumber(social.twitter)}</span></div>`);
            if (social.tiktok) socialLinks.push(`<div class="social-icon text-black" title="TikTok"><i class="fab fa-tiktok"></i> <span class="text-xs text-gray-600">${formatNumber(social.tiktok)}</span></div>`);
            if (social.youtube) socialLinks.push(`<div class="social-icon text-red-500" title="YouTube"><i class="fab fa-youtube"></i> <span class="text-xs text-gray-600">${formatNumber(social.youtube)}</span></div>`);
            if (social.discord) socialLinks.push(`<div class="social-icon text-indigo-500" title="Discord"><i class="fab fa-discord"></i> <span class="text-xs text-gray-600">${formatNumber(social.discord)}</span></div>`);

            // Feature badges
            const featureBadges = [];
            if (tool.imageGen) featureBadges.push('<span class="feature-badge bg-pink-100 text-pink-600 rounded-full">üñºÔ∏è ImgGen</span>');
            if (tool.videoGen) featureBadges.push('<span class="feature-badge bg-blue-100 text-blue-600 rounded-full">üé¨ VidGen</span>');
            if (tool.imageEditor) featureBadges.push('<span class="feature-badge bg-purple-100 text-purple-600 rounded-full">‚úèÔ∏è Editor</span>');
            if (tool.imageCanvas) featureBadges.push('<span class="feature-badge bg-green-100 text-green-600 rounded-full">üé® Canvas</span>');
            if (tool.videoTimeline) featureBadges.push('<span class="feature-badge bg-orange-100 text-orange-600 rounded-full">üéûÔ∏è Timeline</span>');

            const isCraftit = tool.name.toLowerCase().includes('craftit');
            
            return `
                <div class="bg-white rounded-xl shadow-sm p-6 card-hover transition-all duration-200 ${isCraftit ? 'ring-2 ring-yellow-400' : ''}">
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-lg gradient-bg flex items-center justify-center text-white font-bold text-sm">
                                ${tool.ranking || tool.id}
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">${tool.name} ${isCraftit ? '‚≠ê' : ''}</h3>
                                <a href="${tool.url}" target="_blank" class="text-sm text-purple-600 hover:underline truncate block max-w-[180px]">
                                    ${tool.url.replace('https://', '').replace('http://', '')} <i class="fas fa-external-link-alt text-xs"></i>
                                </a>
                            </div>
                        </div>
                        <span class="px-2 py-1 rounded-full text-xs font-medium ${getCategoryColor(tool.category)} whitespace-nowrap">
                            ${tool.category}
                        </span>
                    </div>

                    <!-- Feature Badges -->
                    ${featureBadges.length > 0 ? `
                        <div class="flex flex-wrap gap-1 mb-3">
                            ${featureBadges.join('')}
                        </div>
                    ` : ''}
                    
                    <p class="text-gray-600 text-sm mb-3 line-clamp-2">${tool.description || 'No description available'}</p>
                    
                    <div class="grid grid-cols-2 gap-2 mb-3 text-sm">
                        <div class="bg-gray-50 rounded-lg p-2">
                            <div class="text-gray-500 text-xs">Monthly Traffic</div>
                            <div class="font-semibold text-gray-800">${formatNumber(tool.estimatedMonthlyVisits)}</div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-2">
                            <div class="text-gray-500 text-xs">Est. Users</div>
                            <div class="font-semibold text-gray-800">${formatNumber(tool.estimatedUsers)}</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center gap-3 text-sm text-gray-500 mb-3">
                        <span><i class="fas fa-calendar text-purple-400"></i> ${tool.founded || 'N/A'}</span>
                        <span class="truncate"><i class="fas fa-tag text-purple-400"></i> ${tool.pricing || 'N/A'}</span>
                    </div>
                    
                    ${socialLinks.length > 0 ? `
                        <div class="flex items-center gap-3 pt-3 border-t border-gray-100 flex-wrap">
                            ${socialLinks.join('')}
                        </div>
                    ` : ''}
                </div>
            `;
        }
        
        // Render pagination
        function renderPagination() {
            const perPageValue = document.getElementById('perPage').value;
            if (perPageValue === 'all') {
                document.getElementById('resultsInfo').textContent = `Showing all ${filteredData.length} tools`;
                document.getElementById('paginationTop').innerHTML = '';
                document.getElementById('paginationBottom').innerHTML = '';
                return;
            }

            const totalPages = Math.ceil(filteredData.length / perPage);
            const start = filteredData.length > 0 ? (currentPage - 1) * perPage + 1 : 0;
            const end = Math.min(currentPage * perPage, filteredData.length);
            
            document.getElementById('resultsInfo').textContent = 
                `Showing ${start}-${end} of ${filteredData.length} tools`;
            
            if (totalPages <= 1) {
                document.getElementById('paginationTop').innerHTML = '';
                document.getElementById('paginationBottom').innerHTML = '';
                return;
            }
            
            let paginationHTML = '';
            
            // Previous button
            paginationHTML += `
                <button onclick="goToPage(${currentPage - 1})" 
                    class="page-btn px-3 py-2 rounded-lg border border-gray-200 bg-white" 
                    ${currentPage === 1 ? 'disabled' : ''}>
                    <i class="fas fa-chevron-left"></i>
                </button>
            `;
            
            // Page numbers
            const maxVisible = 7;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisible / 2));
            let endPage = Math.min(totalPages, startPage + maxVisible - 1);
            
            if (endPage - startPage < maxVisible - 1) {
                startPage = Math.max(1, endPage - maxVisible + 1);
            }
            
            if (startPage > 1) {
                paginationHTML += `<button onclick="goToPage(1)" class="page-btn px-3 py-2 rounded-lg border border-gray-200 bg-white">1</button>`;
                if (startPage > 2) paginationHTML += `<span class="px-2 text-gray-400">...</span>`;
            }
            
            for (let i = startPage; i <= endPage; i++) {
                paginationHTML += `
                    <button onclick="goToPage(${i})" 
                        class="page-btn px-3 py-2 rounded-lg border border-gray-200 ${i === currentPage ? 'active' : 'bg-white'}">
                        ${i}
                    </button>
                `;
            }
            
            if (endPage < totalPages) {
                if (endPage < totalPages - 1) paginationHTML += `<span class="px-2 text-gray-400">...</span>`;
                paginationHTML += `<button onclick="goToPage(${totalPages})" class="page-btn px-3 py-2 rounded-lg border border-gray-200 bg-white">${totalPages}</button>`;
            }
            
            // Next button
            paginationHTML += `
                <button onclick="goToPage(${currentPage + 1})" 
                    class="page-btn px-3 py-2 rounded-lg border border-gray-200 bg-white" 
                    ${currentPage === totalPages ? 'disabled' : ''}>
                    <i class="fas fa-chevron-right"></i>
                </button>
            `;
            
            document.getElementById('paginationTop').innerHTML = paginationHTML;
            document.getElementById('paginationBottom').innerHTML = paginationHTML;
        }
        
        // Go to page
        function goToPage(page) {
            const totalPages = Math.ceil(filteredData.length / perPage);
            if (page < 1 || page > totalPages) return;
            currentPage = page;
            renderCurrentPage();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // Render current page
        function renderCurrentPage() {
            const perPageValue = document.getElementById('perPage').value;
            let pageTools;
            
            if (perPageValue === 'all') {
                pageTools = filteredData;
            } else {
                const start = (currentPage - 1) * perPage;
                const end = start + perPage;
                pageTools = filteredData.slice(start, end);
            }
            
            if (currentView === 'grid') {
                const grid = document.getElementById('toolsGrid');
                if (pageTools.length === 0) {
                    grid.innerHTML = '<div class="col-span-3 text-center py-12 text-gray-500">No tools match your filters</div>';
                } else {
                    grid.innerHTML = pageTools.map(renderToolCard).join('');
                }
            } else {
                const tbody = document.getElementById('tableBody');
                if (pageTools.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="11" class="text-center py-12 text-gray-500">No tools match your filters</td></tr>';
                } else {
                    tbody.innerHTML = pageTools.map(renderTableRow).join('');
                }
            }
            
            renderPagination();
        }
        
        // Filter and sort tools
        function filterAndSortTools() {
            const search = document.getElementById('searchInput').value.toLowerCase();
            const category = document.getElementById('categoryFilter').value;
            const sortBy = document.getElementById('sortBy').value;
            const founded = document.getElementById('foundedFilter').value;
            const perPageValue = document.getElementById('perPage').value;
            perPage = perPageValue === 'all' ? filteredData.length : parseInt(perPageValue);
            
            filteredData = toolsData.filter(tool => {
                const matchesSearch = !search || 
                    tool.name.toLowerCase().includes(search) || 
                    (tool.description && tool.description.toLowerCase().includes(search));
                const matchesCategory = !category || tool.category === category;
                const toolYear = parseInt(tool.founded) || 0;
                const matchesFounded = !founded || 
                    (founded === 'older' && toolYear <= 2020) ||
                    (founded !== 'older' && tool.founded === founded);
                
                // Feature filters (AND logic - must have ALL selected features)
                let matchesFeatures = true;
                if (activeFeatures.size > 0) {
                    for (const feature of activeFeatures) {
                        if (!tool[feature]) {
                            matchesFeatures = false;
                            break;
                        }
                    }
                }
                
                return matchesSearch && matchesCategory && matchesFounded && matchesFeatures;
            });
            
            // Sort
            filteredData.sort((a, b) => {
                switch(sortBy) {
                    case 'traffic': return (b.estimatedMonthlyVisits || 0) - (a.estimatedMonthlyVisits || 0);
                    case 'users': return (b.estimatedUsers || 0) - (a.estimatedUsers || 0);
                    case 'name': return (a.name || '').localeCompare(b.name || '');
                    case 'founded': return (parseInt(b.founded) || 0) - (parseInt(a.founded) || 0);
                    default: return (a.ranking || a.id) - (b.ranking || b.id);
                }
            });
            
            currentPage = 1;
            renderCurrentPage();
        }
        
        // Load data
        async function loadData() {
            try {
                const response = await fetch('data/tools.json');
                const data = await response.json();
                toolsData = data.tools || [];
                
                console.log('Loaded tools:', toolsData.length);
                
                // Update stats
                document.getElementById('totalTools').textContent = toolsData.length;
                document.getElementById('statTools').textContent = toolsData.length;
                document.getElementById('lastUpdated').textContent = data.lastUpdated ? new Date(data.lastUpdated).toLocaleString() : 'N/A';
                
                // Count features
                const imageGenCount = toolsData.filter(t => t.imageGen).length;
                const videoGenCount = toolsData.filter(t => t.videoGen).length;
                const imageEditorCount = toolsData.filter(t => t.imageEditor).length;
                const imageCanvasCount = toolsData.filter(t => t.imageCanvas).length;
                const videoTimelineCount = toolsData.filter(t => t.videoTimeline).length;
                
                document.getElementById('statImageGen').textContent = imageGenCount;
                document.getElementById('statVideoGen').textContent = videoGenCount;
                document.getElementById('statCanvas').textContent = imageCanvasCount;
                document.getElementById('statTimeline').textContent = videoTimelineCount;
                
                // Update chip counts
                document.getElementById('count-imageGen').textContent = `(${imageGenCount})`;
                document.getElementById('count-videoGen').textContent = `(${videoGenCount})`;
                document.getElementById('count-imageEditor').textContent = `(${imageEditorCount})`;
                document.getElementById('count-imageCanvas').textContent = `(${imageCanvasCount})`;
                document.getElementById('count-videoTimeline').textContent = `(${videoTimelineCount})`;
                
                // Populate category filter
                const categories = [...new Set(toolsData.map(t => t.category).filter(Boolean))].sort();
                const categorySelect = document.getElementById('categoryFilter');
                categories.forEach(cat => {
                    const option = document.createElement('option');
                    option.value = cat;
                    option.textContent = cat;
                    categorySelect.appendChild(option);
                });
                
                // Hide loading, show grid
                document.getElementById('loadingState').style.display = 'none';
                
                filteredData = [...toolsData];
                renderCurrentPage();
            } catch (error) {
                console.error('Error loading data:', error);
                document.getElementById('loadingState').innerHTML = `
                    <p class="text-red-500">Error loading data: ${error.message}</p>
                    <p class="text-gray-500 mt-2">Make sure you're viewing this from a web server, not a local file.</p>
                `;
            }
        }
        
        // Event listeners
        document.getElementById('searchInput').addEventListener('input', filterAndSortTools);
        document.getElementById('categoryFilter').addEventListener('change', filterAndSortTools);
        document.getElementById('sortBy').addEventListener('change', filterAndSortTools);
        document.getElementById('foundedFilter').addEventListener('change', filterAndSortTools);
        document.getElementById('perPage').addEventListener('change', filterAndSortTools);
        
        // Initialize
        loadData();
    </script>
</body>
</html>
